<!DOCTYPE html>
<html>
<head>
  <title>Assignment 2</title>
</head>
<body>
<script type=//Janelle Toussaint 
//September 20
//Assignment #2


//Task 1
//Make a string method call pluralize
function thisString () {
  this.pluralize = function(singularWord){
    var pluralWord = '';
  
    if (singularWord.charAt(singularWord.length - 1) == 'y'){
      pluralWord = singularWord.substring(0, singularWord.length - 1) + 'ies';
    
    } else {
      pluralWord = singularWord + 's';
    }
  
    console.log(pluralWord);
  
  };
}

var string = new thisString();
string.pluralize('baby'); // returns babies
string.pluralize('cat'); // returns cats



//Task 2
//Make a book construtor, then a shopping constructor

//Book
function Book(object){
  this.title = object.title;
  this.quantity = object.quantity;
  this.price = object.price;
  
}

Book.prototype.getSubtotal = function(){
  
  return (this.quantity * this.price);
}

//var oojsBook = new Book({ title: 'Object Oriented JavaScript', quantity: 2, price: 10 });
//console.log(oojsBook.title); // Object Oriented JavaScript
//console.log(oojsBook.quantity); // 2
//console.log(oojsBook.price); // 10
//console.log(oojsBook.getSubtotal()); // 20

//Shopping
function ShoppingCart(items){
    this.items = items;
}

ShoppingCart.prototype.add = function(book){
  this.items.push(book);
  
}

ShoppingCart.prototype.getTotal = function(){
  var sum = this.items.reduce(function(sum,item){
      return sum + item.getSubtotal();
    },0);
  return sum;
  }

var book1 = new Book({ title: 'Object Oriented JavaScript', quantity: 1, price: 10 });
var book2 = new Book({ title: 'JavaScript Web Applications', quantity: 2, price: 15 });
var book3 = new Book({ title: 'PHP Object Oriented Solutions', quantity: 1, price: 20 });
var book4 = new Book({ title: 'Head First Java', quantity: 5, price: 20 });

var cart = new ShoppingCart([book1, book2]);
cart.add(book3);
cart.add(book4);
console.log(cart.items);

var subtotal = cart.getTotal();
console.log(subtotal); // 160



//Task 3
//Re-create Array.map

Array.prototype.map2 = function(callbackFunction){

  var results = [];

  this.forEach(function(element){
    var value = callbackFunction(element);
   
        results.push(value);
            
            });

return results;
}

var numbers = [1, 2, 3, 4, 5];
var numbersDoubled = numbers.map2(function(number) {
  return number * 2;
});
console.log(numbersDoubled); // should equal [2, 4, 6, 8, 10]



></script>
</body>
</html>